<!--
  【设计理念】
  代理编排规则。参考开源项目的 agents.md。

  【什么是子代理(Sub-Agent)？】
  子代理是 Claude Code 的核心概念之一：
  - 每个代理是一个"专家角色"，有特定的职责和工具权限
  - 代理通过 .md 文件定义，用自然语言描述其行为
  - 主 Claude 可以根据任务自动调用合适的代理
  - 多个代理可以并行执行独立任务

  【为什么需要代理编排？】
  单一 Claude 实例处理所有任务会导致：
  1. 上下文过长，注意力分散
  2. 角色混乱，审查自己写的代码不客观
  3. 无法并行处理独立任务
  代理编排解决了这些问题。
-->

# 代理编排规则

## 可用代理

| 代理 | 用途 | 使用时机 |
|------|------|----------|
| planner | 实施规划 | 复杂功能、重构 |
| architect | 系统设计 | 架构决策 |
| tdd-guide | 测试驱动开发 | 新功能、Bug 修复 |
| code-reviewer | 代码审查 | 写完代码后 |
| vue-reviewer | Vue 专项审查 | Vue 组件变更后 |
| security-reviewer | 安全分析 | 提交前 |
| build-error-resolver | 修复构建错误 | 构建失败时 |
| refactor-cleaner | 死代码清理 | 代码维护 |
| doc-updater | 文档更新 | 更新文档 |

## 自动调用规则

<!--
  【设计理念】无需用户提示，遇到特定场景自动选用代理
  这是开源项目的"Immediate Agent Usage"概念。
-->

无需用户额外说明，遇到以下情况应直接选用对应代理：

1. 复杂功能需求 → 用 **planner** 做实施规划
2. 刚写完或改完代码 → 用 **code-reviewer** 做审查
3. 修 Bug 或新功能 → 用 **tdd-guide** 走 TDD
4. 架构决策 → 用 **architect**

## 并行执行

<!--
  【关键原则】独立任务应并行执行
  开源项目强调：不要无谓地串行执行独立任务。
-->

彼此独立的任务应并行调用多个代理：

```
# ✅ 好：并行执行独立任务
同时启动 3 个代理：
1. 代理 1: 安全分析 auth.ts
2. 代理 2: 性能审查 cache 模块
3. 代理 3: 类型检查 utils.ts

# ❌ 差：不必要的串行
先代理 1，再代理 2，再代理 3
```
