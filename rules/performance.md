<!--
  【设计理念】
  性能优化规则。参考开源项目的 performance.md。

  【开源项目的性能哲学】
  1. 模型选择策略：不同任务用不同模型（Haiku/Sonnet/Opus）
  2. 上下文窗口管理：避免在上下文末尾做复杂操作
  3. 构建失败时的处理流程

  【对前端项目的意义】
  性能优化不仅是代码层面的，还包括：
  - Claude 自身的使用效率（选对模型、管理上下文）
  - 前端运行时性能（懒加载、虚拟滚动等）
  - 后端接口性能（缓存、查询优化等）
-->

# 性能优化规则

## Claude 模型选择策略

<!--
  【为什么模型选择很重要？】
  不同模型的能力和成本差异巨大：
  - Haiku: 快速、便宜，适合简单任务
  - Sonnet: 平衡，适合日常开发
  - Opus: 最强推理，适合复杂架构决策
  选对模型 = 省钱 + 省时间
-->

| 模型 | 适用场景 | 成本 |
|------|----------|------|
| **Haiku** | 轻量代理、高频调用、简单代码生成 | 低 |
| **Sonnet** | 主开发工作、多代理编排、复杂编码 | 中 |
| **Opus** | 架构决策、深度分析、复杂推理 | 高 |

## 上下文窗口管理

<!--
  【关键洞察】上下文窗口的最后 20% 是"敏感区"
  在这个区域做复杂操作容易出错，因为模型的注意力分散。
-->

避免在上下文窗口最后 20% 执行：
- 大规模重构
- 跨多文件的功能实现
- 复杂交互的调试

适合在上下文末尾做的（低敏感度）：
- 单文件编辑
- 文档更新
- 简单 Bug 修复
