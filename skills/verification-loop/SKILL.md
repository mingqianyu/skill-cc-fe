---
name: verification-loop
description: 验证循环技能 - 确保每次代码变更都经过构建、类型检查、测试的完整验证
version: 1.0.0
---

<!--
  【设计理念】
  参考开源项目的 verification-loop skill。

  【什么是验证循环？】
  验证循环是开源项目的核心质量保障机制：
  每次代码变更后，自动运行一系列检查，
  确保变更没有破坏任何东西。

  【两种验证模式】
  开源项目定义了两种验证方式：
  1. Checkpoint（检查点）：在关键节点手动触发
  2. Continuous（持续）：每次变更后自动触发

  验证循环 = 自动化的"改完就检查"习惯。
-->

# 验证循环技能

## 验证步骤（固定顺序）

```
1. 构建检查 → 失败则停止
2. 类型检查 → 报告所有错误
3. Lint 检查 → 报告警告和错误
4. 测试套件 → 报告通过率和覆盖率
5. Console.log 审计 → 搜索遗留日志
6. Git 状态 → 展示未提交变更
```

## 验证时机

### 必须验证
- 功能实现完成后
- 重构完成后
- Bug 修复后
- 提交 PR 前

### 建议验证
- 每个开发阶段结束时
- 合并分支前
- 部署前

## 验证报告格式

```
验证结果: [通过/失败]

构建:     [OK/失败]
类型:     [OK/X 个错误]
Lint:     [OK/X 个问题]
测试:     [X/Y 通过, Z% 覆盖率]
日志:     [OK/X 个 console.log]

可以提 PR: [是/否]
```

## 失败处理

验证失败时：
1. 定位失败的检查项
2. 分析错误原因
3. 修复问题
4. 重新运行验证
5. 直到全部通过
