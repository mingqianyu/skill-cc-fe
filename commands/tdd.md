---
description: 强制测试驱动开发流程。先定义接口，再写测试，最后实现代码。确保 80%+ 覆盖率。
---

<!--
  【设计理念】
  /tdd 是开源项目工作流的第二步（plan 之后）。
  TDD 的价值在于"先定义正确性，再实现"。

  【TDD 对 AI 编程的特殊意义】
  AI 生成的代码最大的问题是"看起来对但实际有 Bug"。
  TDD 通过先写测试来定义"什么是正确的"，
  然后让 AI 去满足这个定义，大幅降低 Bug 率。
-->

# /tdd 命令

调用 **tdd-guide** 代理，强制执行测试驱动开发。

## TDD 循环

```
RED → GREEN → REFACTOR → REPEAT
```

## 执行步骤

1. **定义接口** - 先写 TypeScript 类型
2. **写失败测试** (RED) - 测试必须先失败
3. **运行测试** - 确认失败
4. **最小实现** (GREEN) - 只写刚好通过的代码
5. **运行测试** - 确认通过
6. **重构** (REFACTOR) - 改善代码
7. **验证覆盖率** - ≥ 80%

## 测试要求

**必须包含：**
- 正常路径场景
- 边界情况（空值、null、最大值）
- 错误条件
- 边界值

**覆盖率要求：**
- 80% 最低标准
- 100%：核心业务逻辑、鉴权、金融计算

**关键：测试必须在实现之前编写，不可跳过 RED 阶段。**
